(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],p=0,f=[];p<o.length;p++)r=o[p],i[r]&&f.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1e32":function(t,e,a){"use strict";var n=a("a155"),i=a.n(n);i.a},"2faa":function(t,e,a){"use strict";var n=a("cd67"),i=a.n(n);i.a},3682:function(t,e,a){t.exports=a.p+"img/building.eca1e83c.gif"},4339:function(t,e,a){t.exports=a.p+"img/launching.98bfcfd8.gif"},"4a05":function(t,e,a){"use strict";var n=a("e502"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),i=(a("15f5"),a("bb71")),s=(a("da64"),a("c0a4")),r=a.n(s);n["a"].use(i["a"],{iconfont:"fa",theme:{primary:"#d71635",accent:"#939598",warning:r.a.amber}});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{dark:""}},[a("v-navigation-drawer",{attrs:{app:"",fixed:"",clipped:""},model:{value:t.nav,callback:function(e){t.nav=e},expression:"nav"}},[a("v-list",{staticClass:"pt-0"},[a("v-list-tile",{attrs:{avatar:""},on:{click:function(e){t.go("Home")}}},[a("v-list-tile-avatar",[a("v-icon",[t._v("fa-home")])],1),t._v("\n        Home\n      ")],1),a("v-list-tile",{attrs:{avatar:""},on:{click:function(e){t.go("Name")}}},[a("v-list-tile-avatar",[a("v-icon",[t._v("fa-users")])],1),t._v("\n        Name List\n      ")],1),a("v-list-tile",{attrs:{avatar:""},on:{click:function(e){t.go("Prize")}}},[a("v-list-tile-avatar",[a("v-icon",[t._v("fa-award")])],1),t._v("\n        Prize List\n      ")],1),a("v-list-tile",{staticClass:"error--text",attrs:{avatar:"",disabled:!(t.hasNameList&&t.hasPrizeList)},on:{click:function(e){t.go("Launch")}}},[a("v-list-tile-avatar",[a("v-icon",{attrs:{color:t.hasNameList&&t.hasPrizeList?"primary":"accent"}},[t._v("\n            fa-rocket\n          ")])],1),t.hasNameList&&t.hasPrizeList?a("span",[a("b",[t._v("Ready for Launch!")])]):a("span",[t._v("\n          Preparing for launch...\n        ")])],1)],1)],1),t.topnav?a("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.nav=!t.nav}}},[a("v-icon",[t._v("fa-rocket")])],1),a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",{staticClass:"font-weight-light"},[t._v("Capstone 4 ")]),a("span",[t._v("Lucky ")]),a("span",{staticClass:"primary--text"},[t._v("\n        Rocket\n\n      ")])]),a("v-spacer"),a("v-btn",{attrs:{flat:"",icon:"",color:"primary"},on:{click:function(e){t.topnav=!1}}},[a("v-icon",[t._v("fa-chevron-up")])],1)],1):t._e(),a("v-content",{attrs:{app:""}},[t.hasNameList&&t.hasPrizeList?t._e():a("v-layout",{attrs:{row:"",wrap:"","px-3":"","pt-3":""}},[a("v-alert",{staticClass:"flex xs12",attrs:{value:!t.hasNameList,type:"error"},on:{click:function(e){t.go("Name")}}},[t._v("\n        No namelist set!\n      ")]),a("v-alert",{staticClass:"flex xs12",attrs:{value:!t.hasPrizeList,type:"error"},on:{click:function(e){t.go("Prize")}}},[t._v("\n        No prize list set!\n      ")])],1),a(t.page,t._b({tag:"component",on:{ready:function(e){t.go("Launch")},page:t.go}},"component",t.pageParams,!1,!0)),t.topnav?t._e():a("v-btn",{staticStyle:{"margin-top":"2.5em"},attrs:{fab:"",small:"",color:"primary",top:"",right:"",absolute:""},nativeOn:{click:function(e){e.stopPropagation(),t.topnav=!0}}},[a("v-icon",[t._v("fa-ellipsis-h")])],1)],1),a("v-footer",{staticClass:"caption",attrs:{fixed:""}},[a("v-layout",{attrs:{row:"","justify-center":""}},[t._v("\n      Â© kkontagion 2019\n    ")])],1)],1)},l=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:"","px-3":"","pt-3":""}},[a("v-alert",{staticClass:"flex xs12",attrs:{value:t.hasNameList,type:"success"},on:{click:function(e){t.$emit("page","Name")}}},[t._v("\n    Names set!\n  ")]),a("v-alert",{staticClass:"flex xs12",attrs:{value:t.hasPrizeList,type:"success"},on:{click:function(e){t.$emit("page","Prize")}}},[t._v("\n    Prizes set!\n  ")]),a("v-card",{staticClass:"flex xs12 mt-3"},[a("v-card-text",{staticClass:"text-xs-center"},[a("h4",{staticClass:"display-2"},[t._v("\n        Let's win some prizes!\n      ")]),a("p",{staticClass:"mt-3 mb-0"},[a("span",{staticClass:"body-2 mb-2"},[t._v("\n          Please ensure all names, prizes, and prize eligibility have been correctly set.\n        ")]),a("br"),t._v("\n        Namelists should be in a "),a("code",[t._v(".csv")]),t._v(' file (name,role,blank,present - e.g. "'),a("code",[t._v("Kon,Other,6,Yes")]),t._v('").'),a("br"),t._v("\n        To set prizes, upload images of the prizes, then rename the prizes if necessary."),a("br"),t._v("\n        Set the prize eligibility (based on Roles from namelist) by toggling the checkboxes."),a("br"),t._v("\n        Prizes can be rearranged: Press and hold on the prize box until a "),a("span",{staticClass:"primary px-1"},[t._v("red border")]),t._v(" appears, then drag to reorder.\n      ")])]),a("v-card-actions",{staticClass:"layout justify-center"},[a("v-btn",{attrs:{color:"primary",disabled:!t.hasPrizeList&&!t.hasNameList},on:{click:t.clearAll}},[t._v("\n        Clear All Data\n      ")]),a("v-btn",{attrs:{color:"warning",disabled:!t.hasPrizeList&&!t.hasNameList},on:{click:t.clearWinnings}},[t._v("\n        Clear Winnings\n      ")]),a("v-btn",{attrs:{color:"success",disabled:!t.hasPrizeList||!t.hasNameList},on:{click:function(e){t.$emit("ready")}}},[t._v("\n        Go to Launchpad!\n      ")])],1)],1),a("v-snackbar",{attrs:{color:"success",top:""},model:{value:t.showSnack,callback:function(e){t.showSnack=e},expression:"showSnack"}},[t._v("\n    "+t._s(t.snackMsg)+"\n  ")])],1)},u=[],p={name:"home",data:function(){return{showSnack:!1,snackMsg:"Winnings cleared!"}},computed:{hasNameList:function(){return this.$store.state.names.length>0},hasPrizeList:function(){return this.$store.state.prizes.length>0}},methods:{clearAll:function(){this.$store.commit("clearAll")},clearWinnings:function(){this.$store.commit("clearPrizes"),this.showSnack=!0}}},f=p,h=a("2877"),d=a("6544"),v=a.n(d),m=a("0798"),g=a("8336"),b=a("b0af"),w=a("99d9"),y=a("a722"),_=a("2db4"),x=Object(h["a"])(f,c,u,!1,null,null,null);x.options.__file="Home.vue";var z=x.exports;v()(x,{VAlert:m["a"],VBtn:g["a"],VCard:b["a"],VCardActions:w["a"],VCardText:w["b"],VLayout:y["a"],VSnackbar:_["a"]});var k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"pa-3":"","align-content-center":"",row:"",wrap:""}},[a("file-drop",{staticClass:"flex xs12",on:{input:t.testFiles}},[a("template",{slot:"toolbar"},[a("v-layout",{attrs:{"align-center":""}},[a("v-toolbar-title",{staticClass:"flex grow"},[t._v("\n          Add "+t._s(t.title)+" List\n        ")]),a("v-toolbar-title",{staticClass:"flex shrink subheading"},[t._v("\n          Data starts at row\n        ")]),a("v-text-field",{staticClass:"mini-input flex shrink ml-2",attrs:{label:"Row",solo:"","hide-details":"",mask:"####"},model:{value:t.rowNo,callback:function(e){t.rowNo=e},expression:"rowNo"}}),a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:!t.ready},on:{click:t.submit}},[t._v("\n          upload\n        ")])],1)],1),a("template",{slot:"after"},[a("v-checkbox",{staticClass:"mb-3 ml-3",attrs:{"hide-details":"",label:"Clear all before adding new list"},model:{value:t.clearAll,callback:function(e){t.clearAll=e},expression:"clearAll"}})],1)],2),a("v-card",{staticClass:"flex xs12 mt-3"},[a("v-toolbar",{attrs:{card:"",dense:""}},[a("v-toolbar-title",[t._v("\n        "+t._s(t.title)+" List\n      ")]),a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:function(e){t.final=[]}}},[t._v("\n        Clear All\n      ")])],1),a("v-card-text",[a("v-list",{staticClass:"py-0"},t._l(t.final,function(e,n){return a("v-list-tile",{key:"detail-"+n,staticClass:"grey darken-4 mb-1"},[a("span",{staticClass:"subheading"},[t._v(t._s(e.name))]),a("v-spacer"),a("span",{staticClass:"primary--text"},[t._v("\n            "+t._s(e.role)+"\n          ")])],1)}),1)],1)],1)],1)},C=[],V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{staticClass:"f-d",attrs:{card:"",dense:""}},[a("v-toolbar-side-icon",[a("v-icon",[t._v("fa-paperclip")])],1),t._t("toolbar",[a("v-toolbar-title",[t._v(t._s(t.title))])])],2),a("v-layout",{attrs:{row:"",wrap:"","px-2":"","py-1":""}},[a("v-btn",{ref:"fdAddBtn",attrs:{block:"",disabled:t.disabled,color:"primary"},on:{click:function(e){t.$refs.inp.click()}}},[t._v("\n      Add File(s)\n    ")]),a("v-btn",{ref:"fdClearBtn",attrs:{block:"",disabled:0==t.accepted.length,color:"grey darken-2"},on:{click:t.clearAll}},[t._v("\n      Clear All\n    ")])],1),a("v-layout",{staticStyle:{"min-height":"100px"},attrs:{row:"",wrap:"","px-2":""},on:{click:function(e){t.$refs.inp.click()},dragover:function(t){t.preventDefault()},drop:function(e){return e.preventDefault(),t.fileDropped(e)}}},[a("v-flex",{attrs:{xs12:""}},[0==t.accepted.length?t._t("default",[a("div",{staticClass:"text-xs-center",staticStyle:{width:"100%","user-select":"none"}},[t._v("\n          Click or drag files here to add.\n        ")])]):a("v-list",{staticClass:"transparent py-0 px-1",staticStyle:{width:"100%"}},t._l(t.accepted,function(e,n){return a("v-list-tile",{key:n,ref:"fdFileList",refInFor:!0,staticClass:"v-card grey darken-1 elevation-2 mt-2 mb-2",attrs:{avatar:""},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[a("v-list-tile-avatar",{ref:"fdListAvatar",refInFor:!0},[a("v-icon",[t._v("fa-file")])],1),a("v-list-tile-content",{ref:"fdListContent",refInFor:!0},[a("v-list-tile-title",[t._v(t._s(e.name))]),a("v-list-tile-sub-title",[t._v(t._s(t.filesizeDisplay(e.size)))])],1),a("v-list-tile-action",[t._t("actions",[a("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(a){a.stopPropagation(),t.removeFile(e)}}},[a("v-icon",{attrs:{color:"error"}},[t._v("fa-trash-alt")])],1)],{file:e})],2)],1)}),1)],2)],1),t.$slots.after?a("v-flex",{attrs:{xs12:""}},[t._t("after")],2):t._e(),a("input",{ref:"inp",staticStyle:{display:"none"},attrs:{type:"file",multiple:t.multiple},on:{change:t.test}})],1)},L=[],$=a("3d20"),P=a.n($),T={model:{prop:"accepted",event:"input"},props:{title:{type:String,default:"File Dropper"},allow:{type:[String,Array],default:".csv"},multiple:{type:Boolean}},data:function(){return{disabled:!1,accepted:[],rejected:{multiple:[],filesize:[],filetype:[],duplicate:[]}}},computed:{allowed:function(){if(!this.allow)return["*"];var t=this.allow;return"string"==typeof t&&(t=this.allow.split(",")),t=t.map(function(t){return t.trim()}),t.includes("*")?["*"]:t}},watch:{accepted:{handler:function(){},deep:!0}},methods:{test:function(){for(var t=this.$refs.inp.files,e=0;e<t.length;e++)this.processFile(t[e]);this.showErrors()},fileDropped:function(t){if(t.dataTransfer.items){for(var e=0;e<t.dataTransfer.items.length;e++)if("file"===t.dataTransfer.items[e].kind){var a=t.dataTransfer.items[e].getAsFile();this.processFile(a)}}else for(var n=0;n<t.dataTransfer.files.length;n++)this.processFile(t.dataTransfer.files[n]);this.showErrors()},processFile:function(t){var e=!0;this.multiple||1!=this.accepted.length||(this.rejected.multiple.push(t.name),e=!1),this.maxSize&&t.size/1e3>this.maxSize&&(this.rejected.filesize.push(t.name),e=!1);var a=t.name.split(".");"*"!=this.allowed[0]&&(a=a[a.length-1],a.startsWith(".")||(a="."+a),this.allowed.includes(a.toLowerCase())||(this.rejected.filetype.push(t.name),e=!1)),this.accepted.map(function(t){return t.name}).includes(t.name)&&(this.rejected.duplicate.push(t.name),e=!1),e&&this.accepted.push(t)},removeFile:function(t){this.accepted=this.accepted.filter(function(e){return e.name!=t.name}),this.$refs.inp.value=null,this.$emit("input",this.accepted)},clearAll:function(){this.accepted=[],this.rejected={multiple:[],filesize:[],filetype:[],duplicate:[]},this.$emit("input",this.accepted)},filesizeDisplay:function(t){return t<1024?t+"B":t<1048576?Math.round(t/1024)+"KB":t<1073741824?Math.round(t/1024/1024)+"MB":Math.round(t/1024/1024/1024)+"GB"},showErrors:function(){var t="";for(var e in this.rejected)t+=this.rejected[e].join(" | ");t.length>0&&P.a.fire({type:"error",title:"File(s) could not be added!",text:t}),this.$emit("input",this.accepted),this.rejected={multiple:[],filesize:[],filetype:[],duplicate:[]}}}},N=T,I=(a("2faa"),a("0e8f")),A=a("132d"),S=a("8860"),D=a("ba95"),j=a("40fe"),B=a("c954"),F=a("5d23"),O=a("71d9"),M=a("706c"),E=a("2a7f"),W=Object(h["a"])(N,V,L,!1,null,null,null);W.options.__file="FileDropper.vue";var R=W.exports;v()(W,{VBtn:g["a"],VCard:b["a"],VFlex:I["a"],VIcon:A["a"],VLayout:y["a"],VList:S["a"],VListTile:D["a"],VListTileAction:j["a"],VListTileAvatar:B["a"],VListTileContent:F["a"],VListTileSubTitle:F["b"],VListTileTitle:F["c"],VToolbar:O["a"],VToolbarSideIcon:M["a"],VToolbarTitle:E["a"]});var G=a("369b"),H=a.n(G);function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var J=function t(e,a,n){Y(this,t),this.id=e,this.name=a,this.role=n,this.won=-1},K={name:"names-page",components:{FileDrop:R},data:function(){return{title:"Name",files:[],clearAll:!0,rowNo:2,list:[],final:[]}},computed:{ready:function(){return this.list.length>0&&this.rowNo&&this.rowNo>0}},watch:{list:{handler:function(){},deep:!0},final:function(t){this.$store.commit("addNames",t)}},methods:{testFiles:function(t){var e=this;for(var a in t)H.a.parse(t[a],{complete:function(t){return e.list=t.data}})},submit:function(){for(var t=[],e=0,a=this.rowNo-1;a<this.list.length;a++){var n=this.list[a];"Yes"==n[3]&&t.push(new J(e++,n[0],n[1]))}this.final=t}},beforeMount:function(){this.$store.state.names.length>0&&(this.final=this.$store.state.names)}},U=K,q=(a("4a05"),a("ac7c")),Q=a("9910"),X=a("2677"),Z=Object(h["a"])(U,k,C,!1,null,null,null);Z.options.__file="Names.vue";var tt=Z.exports;v()(Z,{VBtn:g["a"],VCard:b["a"],VCardText:w["b"],VCheckbox:q["a"],VLayout:y["a"],VList:S["a"],VListTile:D["a"],VSpacer:Q["a"],VTextField:X["a"],VToolbar:O["a"],VToolbarTitle:E["a"]});var et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"pa-3":"","align-content-center":"",row:"",wrap:""}},[a("v-snackbar",{attrs:{color:"primary",top:""},model:{value:t.showSnack,callback:function(e){t.showSnack=e},expression:"showSnack"}},[t._v("\n    Changes saved!\n  ")]),a("file-drop",{ref:"filedrop",staticClass:"flex xs12",attrs:{multiple:"",allow:".jpg,.jpeg,.png,.bmp,.gif"},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}},[a("template",{slot:"toolbar"},[a("v-layout",{attrs:{"align-center":""}},[a("v-toolbar-title",{staticClass:"flex grow"},[t._v("\n          Add "+t._s(t.title)+" List\n        ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:!t.ready},on:{click:t.submit}},[t._v("\n          upload\n        ")])],1)],1)],2),a("v-card",{staticClass:"flex xs12 mt-3"},[a("v-toolbar",{attrs:{card:"",dense:""}},[a("v-toolbar-title",[t._v("\n        "+t._s(t.title)+" List\n      ")]),a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:t.clearAll}},[t._v("\n        Clear All\n      ")]),a("v-btn",{attrs:{color:"success"},on:{click:t.save}},[t._v("Save Changes")])],1),a("v-flex",{staticClass:"subheading",attrs:{xs12:"","text-xs-center":"","mt-3":""}},[t._v("\n        Hold down and drag to rearrange!\n      ")]),t.prizes&&t.prizes.length>0?a("slick-list",{staticClass:"v-card__text layout row wrap justify-center",attrs:{axis:"xy","helper-class":"primary","press-delay":100},model:{value:t.prizes,callback:function(e){t.prizes=e},expression:"prizes"}},t._l(t.prizes,function(e,n){return a("slick-item",{key:e.id,staticClass:"flex pa-2 shrink",attrs:{index:n}},[a("v-card",{attrs:{color:"grey darken-4"}},[a("v-img",{attrs:{contain:"",height:170,src:e.image,"aspect-ratio":"1.5"}}),a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Prize #"+t._s(n+1))])]),a("v-card-text",{staticClass:"py-1"},[a("v-text-field",{attrs:{label:"Prize Name","persistent-hint":"",hint:t.winner(e)},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"prize.name"}})],1),a("v-card-actions",[a("v-divider"),a("v-layout",{attrs:{row:"",wrap:"","mx-1":"","justify-space-between":""}},t._l(t.roles,function(e,i){return a("v-checkbox",{key:"role-"+i+"-"+n,staticClass:"flex sm6",attrs:{label:e,"hide-details":""},model:{value:t.prizes[n].eligible[e],callback:function(a){t.$set(t.prizes[n].eligible,e,a)},expression:"prizes[i].eligible[role]"}})}),1)],1)],1)],1)}),1):t._e()],1)],1)},at=[],nt=a("11b0"),it={name:"prizes-page",components:{FileDrop:R,SlickList:nt["SlickList"],SlickItem:nt["SlickItem"]},data:function(){return{title:"Prizes",files:[],prizes:[],compPrizes:[],moving:-1,image:null,all:{},showSnack:!1}},computed:{roles:function(){return this.$store.state.roles},ready:function(){return!0}},watch:{roles:{handler:function(t){for(var e in t)this.all[t[e]]=!0},immediate:!0},prizes:{handler:function(){},deep:!0,immediate:!0},compPrizes:{handler:function(){},deep:!0}},methods:{winner:function(t){return t.wonBy?"Won by: "+this.$store.state.names[t.wonBy].name:"No winners yet"},submit:function(){var t=this,e=document.createElement("canvas");e.getContext("2d");this.prizes=this.files.map(function(e){return{name:e.name,image:null,eligible:Object.assign({},t.all),wonBy:null}});var a=new FileReader,n=0;a.onload=function(e){t.prizes[n].image=e.target.result,++n<t.files.length?a.readAsDataURL(t.files[n]):(t.save(),t.$refs.filedrop.clearAll())},a.readAsDataURL(this.files[0])},save:function(){this.$store.commit("addPrizes",this.prizes),this.files=[],this.showSnack=!0},clearAll:function(){this.prizes=[],this.files=[],this.save()}},beforeMount:function(){var t=this.$store.state.prizes;t&&t.length>0&&(this.prizes=t)}},st=it,rt=a("12b2"),ot=a("ce7e"),lt=a("adda"),ct=Object(h["a"])(st,et,at,!1,null,null,null);ct.options.__file="Prizes.vue";var ut=ct.exports;v()(ct,{VBtn:g["a"],VCard:b["a"],VCardActions:w["a"],VCardText:w["b"],VCardTitle:rt["a"],VCheckbox:q["a"],VDivider:ot["a"],VFlex:I["a"],VImg:lt["a"],VLayout:y["a"],VSnackbar:_["a"],VSpacer:Q["a"],VTextField:X["a"],VToolbar:O["a"],VToolbarTitle:E["a"]});var pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("rocket",{ref:"rocket",attrs:{names:t.eligibleNames},on:{won:t.won,down:t.resetPrize}},[a("v-layout",{attrs:{row:"","mt-4":""}},[a("v-flex",{attrs:{xs12:"",sm5:""}},[a("v-img",{staticClass:"rocket",attrs:{src:t.prize.image,height:200,"aspect-ratio":2.75,contain:"",position:"right center"}})],1),a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm7:"","my-4":""}},[a("div",{staticClass:"headline primary--text"},[t._v("\n        "+t._s(t.prizeNum)+"\n      ")]),a("div",{staticClass:"display-2"},[t._v(t._s(t.prize.name))]),t.prizeID<=-1?a("div",{staticClass:"subheading mt-2"},[t._v("\n        This is a test run!\n      ")]):t._e()])],1),t.hideNext?t._e():a("v-btn",{attrs:{fab:"",right:"",absolute:"",large:""},nativeOn:{click:function(e){return e.stopPropagation(),t.goNext(e)}}},[a("v-icon",{attrs:{color:"primary"}},[t._v("fa-chevron-right")])],1)],1)},ft=[],ht=new n["a"],dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"","fill-height":""}},[a("v-flex",{attrs:{grow:""}},[a("v-layout",{attrs:{column:"","fill-height":"","pb-5":"","pl-4":""}},[a("v-flex",[t._t("default")],2),a("v-flex",[a("v-layout",{attrs:{"fill-height":"","align-center":""}},[t.showWinner?a("div",{staticClass:"display-2"},[t.winner?a("div",[t._v("\n              "+t._s(t.winner.name)),a("br"),a("span",{staticClass:"display-1 primary--text"},[t._v("\n                Congratulations!\n              ")])]):a("span",[t._v(t._s(t.randomNames[t.winnerID].name))])]):2==t.stage?a("span",[t._v("\n            Looking for a planet to land on...\n          ")]):a("span",[t._v("\n            Press and hold the fuel button to charge the rocket!\n          ")])])],1),a("v-flex",{attrs:{shrink:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{shrink:""}},[a("hold-btn",{attrs:{color:"primary",fab:""},on:{down:t.down,up:t.up}},[a("v-icon",[t._v("fa-gas-pump")])],1)],1),a("v-flex",[a("div",{staticClass:"power--box primary",style:"width:"+t.fuel+"%"})])],1)],1)],1)],1),a("v-flex",{staticStyle:{height:"100%"},attrs:{xs1:""}},[a("v-layout",{attrs:{"fill-height":"","align-end":""}},[a("v-img",{staticStyle:{float:"right"},attrs:{src:t.rocket,contain:"",width:"100%"}})],1)],1)],1)},vt=[],mt=a("1209"),gt=a("7260"),bt=a.n(gt),wt=a("3682"),yt=a.n(wt),_t=a("4339"),xt=a.n(_t),zt=a("b0ca"),kt=a.n(zt),Ct=a("76dc"),Vt=a.n(Ct),Lt=a("5883"),$t=a.n(Lt),Pt={idle:bt.a,building:yt.a,launching:xt.a,cruising:kt.a,landing:Vt.a,landed:$t.a},Tt={name:"rocket",props:{names:{type:Array}},data:function(){return{randomNames:[],winner:null,winnerID:0,anim:null,nameInt:null,power:0,powerGauge:null,spinTime:5e3,stages:["idle","building","launching","cruising","landing","landed"],stage:0,stageInt:null}},computed:{showWinner:function(){return this.orbiting&&this.randomNames&&this.randomNames.length>0},rocket:function(){return Pt[this.stages[this.stage]]},orbiting:function(){return[3,4,5].includes(this.stage)},fuel:function(){if(this.power<100)return this.power;var t=this.power/100,e=this.power%100;return t%2==1&&(e=100-e),e}},watch:{winner:{handler:function(t,e){e&&t&&t.id==e.id||this.$emit("won",t)},deep:!0},stage:function(t){var e=this;switch(clearTimeout(this.stageInt),t){case 2:this.stageInt=setTimeout(function(){e.stage=3},1100);break;case 3:this.stageInt=setTimeout(function(){e.stage=4},this.spinTime);break;case 4:this.stageInt=setTimeout(function(){e.stage=5,e.power=0},1900);break;case 5:this.winner=this.randomNames[this.winnerID],this.anim.pause();break}},names:{handler:function(t,e){this.randomize(t),e&&t.length==!e.length-1||this.resetAnim()},deep:!0,immediate:!0}},methods:{down:function(){var t=this;this.winnerID=0,this.winner=null,this.$emit("down"),this.stage=1,this.power=0,clearInterval(this.powerGauge),this.powerGauge=setInterval(function(){t.power++},10)},up:function(){this.stage=2,this.spinTime=70*this.fuel,this.anim.play(),clearInterval(this.powerGauge)},resetAnim:function(){this.anim=Object(mt["a"])({targets:this,winnerID:this.randomNames.length-1,round:1,easing:"linear",loop:!0,duration:400,autoplay:!1})},resetSpinner:function(t){this.winnerID=0,this.winner=null,this.stage=0,t&&this.anim.play()},randomize:function(t){this.randomNames=t.map(function(t){return[Math.random(),t]}).sort(function(t,e){return t[0]-e[0]}).map(function(t){return t[1]})},resetAll:function(){this.resetSpinner(),this.resetAnim()}},beforeMount:function(){this.resetAll()},created:function(){var t=this;ht.$on("reset-rocket",function(){return t.resetAll()})}},Nt=Tt,It=Object(h["a"])(Nt,dt,vt,!1,null,null,null);It.options.__file="Rocket.vue";var At=It.exports;v()(It,{VFlex:I["a"],VIcon:A["a"],VImg:lt["a"],VLayout:y["a"]});var St={name:"launch-page",components:{Rocket:At},data:function(){return{prizeID:-1,hasWinner:!1}},computed:{hideNext:function(){return this.prizeID>=this.$store.state.prizes.length||this.prizeID<=0||!this.hasWinner},prize:function(){return this.prizeID<0?{}:this.$store.state.prizes[this.prizeID]},prizeNum:function(){var t=this.prizeID+1;return t+=t%10==1&&11!=t?"st":t%10==2&&12!=t?"nd":t%10==3&&13!=t?"rd":"th",t+" Prize"},eligibleRoles:function(){if(this.prizeID<0)return this.$store.state.roles;var t=[];for(var e in this.prize.eligible)this.prize.eligible[e]&&t.push(e);return t},eligibleNames:function(){var t=this;return this.$store.state.names.filter(function(e){return t.eligibleRoles.includes(e.role)&&!(e.won&&e.won>-1)})}},watch:{prizeID:function(t){console.log("Prize ID:",t)}},methods:{won:function(t){var e=this;t&&(this.prizeID>=0?(this.$store.commit("wonPrize",[t.id,this.prizeID]),this.hasWinner=!0):P.a.fire({type:"success",title:"Are you ready for the real thing?",showCancelButton:!0,cancelButtonText:"One more time!",confirmButtonText:"Yes, let's go!",confirmButtonClass:"primary"}).then(function(t){t.value&&(e.prizeID=e.$store.state.prizes.length-1),e.$refs.rocket.resetAnim(),e.$refs.rocket.resetSpinner()}))},goNext:function(){this.hasWinner=!1,this.prizeID--,ht.$emit("reset-rocket")},resetPrize:function(){this.prizeID>-1&&this.hasWinner&&(this.$store.commit("clearPrize",this.prizeID),this.hasWinner=!1)}},beforeMount:function(){var t=this.$store.state.prizes;if(t[t.length-1].wonBy){for(var e=t.length-1;e>-1;e--)if(!t[e].wonBy){this.prizeID=e;break}}else this.prizeID=-1},created:function(){ht.$on("reset-prize",this.resetPrize())}},Dt=St,jt=(a("1e32"),Object(h["a"])(Dt,pt,ft,!1,null,null,null));jt.options.__file="Launch.vue";var Bt=jt.exports;v()(jt,{VBtn:g["a"],VFlex:I["a"],VIcon:A["a"],VImg:lt["a"],VLayout:y["a"]});var Ft={name:"App",data:function(){return{topnav:!0,nav:!1,page:z,pageParams:{},navs:["Name","Prize"]}},computed:{hasNameList:function(){return this.$store.state.names.length>0},hasPrizeList:function(){return this.$store.state.prizes.length>0}},watch:{hasNameList:{handler:function(t){if(t){var e=this.$store.state.names,a=[];for(var n in e)a.includes(e[n].role)||a.push(e[n].role);this.$store.commit("setRoles",a)}},immediate:!0}},methods:{go:function(t){switch(this.$store.commit("setPage",t),t){case"Name":this.page=tt;break;case"Prize":this.page=ut;break;case"Launch":this.page=Bt;break;default:this.page=z}this.nav=!1}},mounted:function(){this.$store.state.page&&this.go(this.$store.state.page)}},Ot=Ft,Mt=(a("7faf"),a("7496")),Et=a("549c"),Wt=a("553a"),Rt=a("f774"),Gt=Object(h["a"])(Ot,o,l,!1,null,null,null);Gt.options.__file="App.vue";var Ht=Gt.exports;v()(Gt,{VAlert:m["a"],VApp:Mt["a"],VBtn:g["a"],VContent:Et["a"],VFooter:Wt["a"],VIcon:A["a"],VLayout:y["a"],VList:S["a"],VListTile:D["a"],VListTileAvatar:B["a"],VNavigationDrawer:Rt["a"],VSpacer:Q["a"],VToolbar:O["a"],VToolbarSideIcon:M["a"],VToolbarTitle:E["a"]});var Yt=a("2f62"),Jt=a("0e44");n["a"].use(Yt["a"]);var Kt=new Yt["a"].Store({plugins:[Object(Jt["a"])()],state:{names:[],prizes:[],roles:[],page:null},mutations:{addNames:function(t,e){t.names=e,0==e.length&&(t.roles=[])},wonPrize:function(t,e){var a=t.prizes[e[1]].wonBy;a&&(t.names[a].won=null),t.names[e[0]].won=e[1],t.prizes[e[1]].wonBy=e[0]},addPrizes:function(t,e){t.prizes=e},clearPrizes:function(t){t.names.forEach(function(t){return t.won=null}),t.prizes.forEach(function(t){return t.wonBy=null})},clearPrize:function(t,e){var a=t.prizes[e].wonBy;t.prizes[e].wonBy=null,a&&(t.names[a].won=null)},setRoles:function(t,e){t.roles=e},setPage:function(t,e){t.page=e},clearAll:function(t){t.names=[],t.prizes=[],t.roles=[]}},actions:{}}),Ut=a("afdd"),qt={name:"hold-btn",extends:Ut["a"],mounted:function(){var t=this;this.$el.onmousedown=function(e){return t.$emit("down",e)},this.$el.onmouseup=function(e){return t.$emit("up",e)}}};n["a"].config.productionTip=!1,n["a"].component("hold-btn",qt),new n["a"]({store:Kt,render:function(t){return t(Ht)}}).$mount("#app")},5883:function(t,e,a){t.exports=a.p+"img/landed.b027595e.gif"},7260:function(t,e,a){t.exports=a.p+"img/idle.9c143398.gif"},"76dc":function(t,e,a){t.exports=a.p+"img/landing.e7258075.gif"},"7faf":function(t,e,a){"use strict";var n=a("882c"),i=a.n(n);i.a},"882c":function(t,e,a){},a155:function(t,e,a){},b0ca:function(t,e,a){t.exports=a.p+"img/cruising.61694e43.gif"},cd67:function(t,e,a){},e502:function(t,e,a){}});
//# sourceMappingURL=app.5fbc520f.js.map